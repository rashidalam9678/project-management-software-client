const [token,setToken]= useState<string |null>()
  const { getToken } = useAuth();
  const {data,isLoading,isValidating,error}=useClerkSWR("http://localhost:8080/protected/test")
  console.log(data)



  function useClerkSWR(url:String) {
   
    const fetcher = async () => {
      return fetch("http://localhost:8080/protected/test", {
        headers: { Authorization: `Bearer ${await getToken()}` }
      }).then(res => res.json());
    };
   
    return useSWR(url, fetcher,{
      revalidateOnReconnect:false
    });
  }

  function HandleClick(e:any){
    e.preventDefault()
    
    alert(JSON.stringify(data))
  }
